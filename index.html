<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>25 + 5 Clock</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
    
  </head>
  <body>
    <div id="pomodoro" class="wrapper">
      <h1>25 + 5 Clock by publiclyviewed</h1>
      <div id="settings">
        <div>
          <h2 id="break-label">Break Length</h2>
          <button id="break-decrement">-</button>
          <span id="break-length">5</span>
          <button id="break-increment">+</button>
        </div>
        <div>
          <h2 id="session-label">Session Length</h2>
          <button id="session-decrement">-</button>
          <span id="session-length">25</span>
          <button id="session-increment">+</button>
        </div>
      </div>
      <div id="timer">
        <h2 id="timer-label">Session</h2>
        <span id="time-left">25:00</span>
      </div>
      <div id="controls">
        <button id="start_stop">Start/Stop</button>
        <button id="reset">Reset</button>
      </div>
    <audio id="beep" preload="auto" src="https://cdn.freecodecamp.org/testable-projects-fcc/audio/BeepSound.wav"></audio>
    </div>

    <script>
     
      const breakLengthDisplay = document.getElementById("break-length");
      const sessionLengthDisplay = document.getElementById("session-length");
      const timerLabel = document.getElementById("timer-label");
      const timeLeftDisplay = document.getElementById("time-left");
      const startStopBtn = document.getElementById("start_stop");
      const resetBtn = document.getElementById("reset");
      const breakDecrementBtn = document.getElementById("break-decrement");
      const breakIncrementBtn = document.getElementById("break-increment");
      const sessionDecrementBtn = document.getElementById("session-decrement");
      const sessionIncrementBtn = document.getElementById("session-increment");
      const beep = document.getElementById("beep");

     
      let breakLength = 5;
      let sessionLength = 25;
      let timeLeft = sessionLength * 60;
      let isRunning = false;
      let isSession = true; // True for session, false for break
      let timerInterval = null;

      
      function updateLengthDisplays() {
        breakLengthDisplay.textContent = breakLength;
        sessionLengthDisplay.textContent = sessionLength;
      }

      function updateTimeDisplay() {
        const minutes = String(Math.floor(timeLeft / 60)).padStart(2, "0");
        const seconds = String(timeLeft % 60).padStart(2, "0");
        timeLeftDisplay.textContent = `${minutes}:${seconds}`;
        timerLabel.textContent = isSession ? "Session" : "Break";
      }

      
      function adjustBreakLength(amount) {
        breakLength = Math.min(60, Math.max(1, breakLength + amount));
        if (!isRunning && !isSession) {
          timeLeft = breakLength * 60;
          updateTimeDisplay();
        }
        updateLengthDisplays();
      }

      function adjustSessionLength(amount) {
        sessionLength = Math.min(60, Math.max(1, sessionLength + amount));
        if (!isRunning && isSession) {
          timeLeft = sessionLength * 60;
          updateTimeDisplay();
        }
        updateLengthDisplays();
      }

     function toggleTimer() {
        if (isRunning) {
            clearInterval(timerInterval);
            isRunning = false;
        } else {
            isRunning = true;
            timerInterval = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft -= 1;
                    updateTimeDisplay();
                } else {
                    
                    beep.currentTime = 0;
                    beep.play()
                        .then(() => console.log("Audio played successfully"))
                        .catch((error) => console.error("Audio playback error:", error));

                    
                    isSession = !isSession;
                    timeLeft = isSession ? sessionLength * 60 : breakLength * 60;
                    updateTimeDisplay();
                }
            }, 1000);
        }
    }

    function resetTimer() {
        clearInterval(timerInterval);
        isRunning = false;
        isSession = true;
        breakLength = 5;
        sessionLength = 25;
        timeLeft = sessionLength * 60;

       
        beep.pause();
        beep.currentTime = 0;

        updateLengthDisplays();
        updateTimeDisplay();
    }

      
      breakDecrementBtn.addEventListener("click", () => adjustBreakLength(-1));
      breakIncrementBtn.addEventListener("click", () => adjustBreakLength(1));
      sessionDecrementBtn.addEventListener("click", () => adjustSessionLength(-1));
      sessionIncrementBtn.addEventListener("click", () => adjustSessionLength(1));
      startStopBtn.addEventListener("click", toggleTimer);
      resetBtn.addEventListener("click", resetTimer);

      
      updateLengthDisplays();
      updateTimeDisplay();
    </script>
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
  </body>
</html>








